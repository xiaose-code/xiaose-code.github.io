(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{462:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"kylinv10-安装-mysql-教程-可防踩雷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kylinv10-安装-mysql-教程-可防踩雷"}},[s._v("#")]),s._v(" KylinV10 安装 MySQL 教程（可防踩雷）")]),s._v(" "),a("h2",{attrs:{id:"_1、直接用-apt-快捷安装-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、直接用-apt-快捷安装-mysql"}},[s._v("#")]),s._v(" 1、直接用 apt 快捷安装 MySQL")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#更新软件源")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装mysql")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("然后你会发现，KylinV10 安装畅通无阻，并没有设置密码的场景，于是你一登陆，发现有密码（？哪来的密码）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("kylin@kylinV10:~/桌面$ mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\nEnter password: \nERROR "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1698")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Access denied "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v("\nkylin@kylinV10:~/桌面$ mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\nEnter password: \nERROR "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1698")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Access denied "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"_2、kylinv10-密码正确也无法登录的情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、kylinv10-密码正确也无法登录的情况"}},[s._v("#")]),s._v(" 2、KylinV10 密码正确也无法登录的情况")]),s._v(" "),a("p",[s._v("这里有点问题的是，银河麒麟系统有点不同，按网上一些改密码的教程，会发现，密码该成功了，输入密码正确也无法登录，输入密码半天连接不了，也不知道是当时设置密码的时候打错了，两次都打错不应该啊。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703062515988.webp",alt:"1703062515988"}})]),s._v(" "),a("p",[s._v("其实这里主要原因就是因为 kylinV10 的加密方式不一样，MySQL 一般是 mysql_native_password 认证方式，但是 kylinV10 的认证方式是 auth_socket。所以要先改这个，接下来教大家如何改！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703062674335.webp",alt:"1703062674335"}})]),s._v(" "),a("h2",{attrs:{id:"_3、修改认证方式步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、修改认证方式步骤"}},[s._v("#")]),s._v(" 3、修改认证方式步骤")]),s._v(" "),a("p",[s._v("具体操作如下：")]),s._v(" "),a("h3",{attrs:{id:"_1、在-mysqld-cnf-最后一行里添加-skip-grant-tables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、在-mysqld-cnf-最后一行里添加-skip-grant-tables"}},[s._v("#")]),s._v(" 1、在 mysqld.cnf 最后一行里添加 skip-grant-tables")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 gedit 或者 vim 命令都可以（二选一即可）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gedit /etc/mysql/mysql.conf.d/mysqld.cnf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 vim 命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/mysql/mysql.conf.d/mysqld.cnf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("直接在最后一行添加")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("skip-grant-tables\n# 如下图\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703062962414.webp",alt:"1703062962414"}})]),s._v(" "),a("p",[s._v("保存后，退出，不用去管报什么错误警告，比如下图这样的")]),s._v(" "),a("p",[a("img",{attrs:{src:"C:%5CUsers%5Ctq%5CDesktop%5C4.png",alt:"4"}})]),s._v(" "),a("h3",{attrs:{id:"_2、重启-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、重启-mysql"}},[s._v("#")]),s._v(" 2、重启 MySQL")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysql restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3、连接-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、连接-mysql"}},[s._v("#")]),s._v(" 3、连接 MySQL")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只需要输入mysql就行，其他不用")]),s._v("\nmysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_4、切换到-mysql-数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、切换到-mysql-数据库"}},[s._v("#")]),s._v(" 4、切换到 mysql 数据库")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("use mysql;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_5、查看一下加密方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、查看一下加密方式"}},[s._v("#")]),s._v(" 5、查看一下加密方式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("select user, plugin from user;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703062674335.webp",alt:"1703062674335"}}),s._v(" "),a("p",[s._v("如果是如图 auth_socket 需要将其修改为 mysql_native_password 这就是为什么我改了几次密码，都还是无法连接成功的原因：身份验证的插件是错的。")]),s._v(" "),a("h3",{attrs:{id:"_6、修改加密认证方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、修改加密认证方式"}},[s._v("#")]),s._v(" 6、修改加密认证方式")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("update user set plugin='mysql_native_password' where user='root';\nflush privileges;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_7、修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、修改密码"}},[s._v("#")]),s._v(" 7、修改密码")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ALTER user 'root'@'localhost' IDENTIFIED BY '123456'; //123456是新密码，改成你自己的\n# 注意 MySQL8.0是不支持 password() 函数的，所以以下命令是无效的 \n# 如果你安装的是MySQL5.x可以执行下面命令\nupdate user set authentication_string=password(\"123456\"),plugin='mysql_native_password' where user='root';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_8、退出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、退出"}},[s._v("#")]),s._v(" 8、退出")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("exit;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_9、去掉-skip-grant-tables-重启-mysql-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、去掉-skip-grant-tables-重启-mysql-服务"}},[s._v("#")]),s._v(" 9、去掉 skip-grant-tables 重启 MySQL 服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gedit /etc/mysql/mysql.conf.d/mysqld.cnf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以选择删除或者注释掉，注释的话在前面加个 # 就行了")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_10、重启-mysql-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、重启-mysql-服务"}},[s._v("#")]),s._v(" 10、重启 MySQL 服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysql restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_11、完整的过程图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11、完整的过程图"}},[s._v("#")]),s._v(" 11、完整的过程图")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703063339930.webp",alt:"1703063339930"}})]),s._v(" "),a("h2",{attrs:{id:"_4、还不行-还有招"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、还不行-还有招"}},[s._v("#")]),s._v(" 4、还不行？还有招")]),s._v(" "),a("h3",{attrs:{id:"_1、初始化配置-设置密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、初始化配置-设置密码"}},[s._v("#")]),s._v(" 1、初始化配置，设置密码")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mysql_secure_installation\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后下面步骤有点多，注意认真看")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1")]),s._v("\nSecuring the MySQL server deployment.\n\nConnecting to MySQL using a blank password.\n\nVALIDATE PASSWORD PLUGIN can be used to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" passwords\nand improve security. It checks the strength of password\nand allows the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("users")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" only those passwords "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" are\nsecure enough. Would you like to setup VALIDATE PASSWORD plugin?\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里我选择了 No")]),s._v("\nPress y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("Y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Yes, any other key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" No: No\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2")]),s._v("\nPlease "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" the password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root here"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\nNew password: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("输入密码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nRe-enter new password: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("重复输入"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3")]),s._v("\nBy default, a MySQL installation has an anonymous user,\nallowing anyone to log into MySQL without having to have\na user account created "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" them. This is intended only "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("\ntesting, and to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" the installation go a bit smoother.\nYou should remove them before moving into a production\nenvironment.\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我选择了 No")]),s._v("\nRemove anonymous users? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Press y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("Y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Yes, any other key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" No"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" No \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4")]),s._v("\nNormally, root should only be allowed to connect from\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" This ensures that someone cannot guess at\n\nthe root password from the network"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我选择了 Yes")]),s._v("\nDisallow root login remotely? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Press y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("Y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Yes, any other key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" No"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5")]),s._v("\n\nBy default, MySQL comes with a database named "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'test'")]),s._v(" that\n\nanyone can access"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我选择了 No")]),s._v("\nRemove "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" database and access to it? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Press y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("Y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Yes, any other key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" No"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" No\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6")]),s._v("\n\nReloading the privilege tables will ensure that all changes\n\nmade so far will take effect immediately.\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我选择了 Yes")]),s._v("\nReload privilege tables now? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Press y"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("Y "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Yes, any other key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" No"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" Yes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"_2、检查mysql状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、检查mysql状态"}},[s._v("#")]),s._v(" 2、检查MySQL状态")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl status mysql.service\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3、在终端连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、在终端连接"}},[s._v("#")]),s._v(" 3、在终端连接")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root -p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入密码")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"_5、sqoop-导入-mysql-中文乱码问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、sqoop-导入-mysql-中文乱码问题"}},[s._v("#")]),s._v(" 5、sqoop 导入 MySQL 中文乱码问题")]),s._v(" "),a("p",[s._v("（可以插入中文，但不能用sqoop导入中文）导致导入时中文乱码的原因是character_set_server默认设置是latin1")]),s._v(" "),a("p",[s._v("可以单个设置修改编码方式"),a("code",[s._v("set character_set_server=utf8;")]),s._v("但是重启会失效，建议按以下方式修改编码方式。")]),s._v(" "),a("h3",{attrs:{id:"_1-编辑配置文件。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-编辑配置文件。"}},[s._v("#")]),s._v(" (1)编辑配置文件。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/mysql/mysql.conf.d/mysqld.cnf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gedit /etc/mysql/mysql.conf.d/mysqld.cnf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_2-在-mysqld-下添加一行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-在-mysqld-下添加一行"}},[s._v("#")]),s._v(" (2)在[mysqld]下添加一行")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("character_set_server=utf8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703064529576.webp",alt:"1703064529576"}}),s._v(" "),a("h3",{attrs:{id:"_3-重启mysql服务。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-重启mysql服务。"}},[s._v("#")]),s._v(" (3)重启MySQL服务。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysql restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-查看character-set-server设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看character-set-server设置"}},[s._v("#")]),s._v(" (4)查看"),a("code",[s._v("character_set_server")]),s._v("设置")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('show variables like "char%";\n# 如下图，可以看到 character_set_server 已经变成了 utf8 了\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xiaose-code/Pictures@main/img/1703064626187.webp",alt:"1703064626187"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);