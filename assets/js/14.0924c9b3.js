(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{338:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"cpp之旅-学习笔记-第9章-标准库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cpp之旅-学习笔记-第9章-标准库"}},[t._v("#")]),t._v(" Cpp之旅（学习笔记）第9章 标准库")]),t._v(" "),s("blockquote",[s("p",[t._v("当无知稍纵即逝时，又何必浪费时间学习呢？")]),t._v(" "),s("p",[t._v("​\t\t\t\t\t\t\t\t\t\t\t——霍布斯")])]),t._v(" "),s("h2",{attrs:{id:"_9-1-引言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-引言"}},[t._v("#")]),t._v(" 9.1 引言")]),t._v(" "),s("p",[t._v("第9~18章将对重要的标准库工具和方法给出一个概要性的介绍。如：string、ostream、variant、vector、map、path、unique_ptr、thread、regex、system_clock、time_zone和complex。")]),t._v(" "),s("p",[s("strong",[t._v("作者说：不要因为对某些细节理解不够充分而心烦或气馁。本章的目的是让我们对最有用的标准库工具有一个基本的了解。")])]),t._v(" "),s("h2",{attrs:{id:"_9-2-标准库组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-标准库组件"}},[t._v("#")]),t._v(" 9.2 标准库组件")]),t._v(" "),s("p",[s("strong",[t._v("标准库提供的工具和方法可以分为如下几类：")])]),t._v(" "),s("p",[t._v("太多了，只写几个关键的能记住的吧")]),t._v(" "),s("ul",[s("li",[t._v("运行时语言支持库（例如：对资源分配、异常和运行时类型信息的支持）。")]),t._v(" "),s("li",[t._v("C标准库。")]),t._v(" "),s("li",[t._v("字符串库。")]),t._v(" "),s("li",[t._v("正则表达式库。")]),t._v(" "),s("li",[t._v("I/O流库。")]),t._v(" "),s("li",[t._v("以可移植的方式处理文件系统的文件操作库。")]),t._v(" "),s("li",[t._v("容器框架库（vector、map）和算法库（find()、sort()、merge()）。也习惯称为标准模板库（STL）。")]),t._v(" "),s("li",[t._v("。。。。。。")]),t._v(" "),s("li",[t._v("并发程序支持库，包括thread和锁机制。")]),t._v(" "),s("li",[t._v("同步协程库及异步协程库。")]),t._v(" "),s("li",[t._v("并行库，包含部分数学算法及大多数STL算法的并行版本，比如sort()、reduce()。")]),t._v(" "),s("li",[t._v("支持模板元程序设计的工具库（类型特性）、STL风格的泛型程序设计（pair）和通用程序设计（variant和optional）。")]),t._v(" "),s("li",[t._v("用于资源管理的“智能指针”库（unique_ptr和shared_ptr）。")]),t._v(" "),s("li",[t._v("特殊用途容器库（array、bitset、tuple）。")]),t._v(" "),s("li",[t._v("。。。。。。")])]),t._v(" "),s("h2",{attrs:{id:"_9-3-标准库的组织"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-标准库的组织"}},[t._v("#")]),t._v(" 9.3 标准库的组织")]),t._v(" "),s("p",[t._v("标准库的所有设施都被放在名为std的命名空间中，用户可以通过模板或者头文件来访问。")]),t._v(" "),s("h3",{attrs:{id:"_9-3-1-命名空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-1-命名空间"}},[t._v("#")]),t._v(" 9.3.1 命名空间")]),t._v(" "),s("p",[t._v("一般来说，将命名空间中的所有名字都导入全局命名空间并不是好的编程习惯。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("std::chrono")]),t._v("：chrono时间库，其中包括std::literals::chrono_literals")]),t._v(" "),s("li",[s("code",[t._v("std::listerals::chrono_literals")]),t._v("：后缀y表示年，d表示日，h表示小时，min表示分钟，ms表示毫秒，s表示秒，us表示微妙")]),t._v(" "),s("li",[s("code",[t._v("std::literals::complex_literals")]),t._v("：后缀i表示双精度虚数，if表示单精度虚数，il表示long double类型的虚数")]),t._v(" "),s("li",[s("code",[t._v("std::literals::string_literals")]),t._v("：后缀s表示字符串类")]),t._v(" "),s("li",[s("code",[t._v("std::literals::string_view_literals")]),t._v("：后缀sv表示字符字符串视图")]),t._v(" "),s("li",[s("code",[t._v("std::numbers")]),t._v(" 提供数学常数")]),t._v(" "),s("li",[s("code",[t._v("std::pmr")]),t._v(" 表示多态内存资源")])]),t._v(" "),s("p",[t._v("要使用子命名空间中的后缀，必须将它引入当前的命名空间。")]),t._v(" "),s("p",[t._v("例如：")]),t._v(" "),s("div",{staticClass:"language-CPP line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//没有引入complex_literals")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" z1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//错误：没有后缀i")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" literals"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("complex_literals"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//引入complex literals 声明的后缀")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" z2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可行：z2是complex<double>类型的")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_9-3-2-ranges命名空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-2-ranges命名空间"}},[t._v("#")]),t._v(" 9.3.2 ranges命名空间")]),t._v(" "),s("p",[s("strong",[t._v("标准库提供的sort()和copy()，有两个版本：")])]),t._v(" "),s("ul",[s("li",[t._v("传统版本，接受两个迭代器作为参数："),s("code",[t._v("sort(begin(v),v.end());")]),t._v("。")]),t._v(" "),s("li",[t._v("范围版本，接受一个单独的范围："),s("code",[t._v("sort(v);")]),t._v("。")])]),t._v(" "),s("p",[t._v("理想情况下：这两个版本（参数不同）应当可以直接重载而不需要任何特殊的动作。但是实际上不行：")]),t._v(" "),s("div",{staticClass:"language-CPP line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" ranges"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("f")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("begin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误：有歧义")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误：有歧义")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("为避免使用非限定模板时造成的歧义，标准规定了范围版本必须在作用域内显示声明：")]),t._v(" "),s("div",{staticClass:"language-CPP line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" std"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("g")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("begin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可行")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误：没有匹配的函数（在std命名空间内）")]),t._v("\n    ranges"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可行")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" ranges"),s("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("sort"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sort(v)现在可行了")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_9-3-3-模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-3-模块"}},[t._v("#")]),t._v(" 9.3.3 模块")]),t._v(" "),s("p",[t._v("目前为止，无任何标准库模块，作者说Cpp23很可能会弥补这个遗漏。")]),t._v(" "),s("p",[t._v("目前：作者使用可能称为标准的 module std。")]),t._v(" "),s("h2",{attrs:{id:"_9-4-建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-建议"}},[t._v("#")]),t._v(" 9.4 建议")]),t._v(" "),s("ul",[s("li",[t._v("不要重新发明轮子，应该使用库。")]),t._v(" "),s("li",[t._v("当有选择时，优先选择标准库而不是其他库。")]),t._v(" "),s("li",[t._v("不使用模块时，记得用#include包含相应的头文件。")]),t._v(" "),s("li",[t._v("记住，标准库工具和方法都被定义在命名空间std中。")]),t._v(" "),s("li",[t._v("在使用ranges时，记得显示限定算法名称。")]),t._v(" "),s("li",[t._v("（如果可用）尽量使用import模块代替#include头文件。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);